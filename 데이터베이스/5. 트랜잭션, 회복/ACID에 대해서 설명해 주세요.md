## ACID에 대해서 설명해 주세요.

ACID는 트랜잭션이 안전하게 수행된다는 것을 보장하기 위한 성질입니다.

- **원자성(Atomicity)** : 트랜잭션이 데이터베이스에 완전히 반영되거나 아예 실행되지 않아야 한다.

- **일관성(Consistency)** : 트랜잭션 수행이 완료된 데이터베이스는 일관성이 있다.
- **독립성(Isolation)** : 수행 중인 트랜잭션에 다른 트랜잭션이 끼어들 수 없다.
- **영속성(Durability)** : 완료한 트랜잭션의 결과가 데이터베이스에 영구적으로 반영된다.

## 더 알아보기

### ACID DB vs BASE DB

- ACID 데이터베이스 :

  - 가용성보다 **일관성을 우선시함.**

  - 트랜잭션의 어느 단계에서든 **오류가 발생하면 전체 트랜잭션이 실패함.**

- BASE 데이터베이스 :

  - 일관성보다 **가용성을 우선시함.**

  - 트랜잭션이 실패하는 것이 아니라, **사용자가 일관되지 않은 데이터에 일시적으로 액세스하게 됨.**
  - 즉, 데이터 일관성은 달성되지만, 즉시 달성되지는 않음.

### ACID와 BASE가 중요한 이유?

현대적 DB는 네트워크로 연결된 여러 노드에 데이터를 복제하는 분산 데이터 스토어.

사용자는 트랜잭션이 끝날 때 모든 노드에서 데이터가 일관되게 유지되길 기대함.

그러나 Brewer의 정리(CAP theorem)에 따르면, 모든 분산 데이터 스토어는 다음 세 가지 보장 중 두 가지만 제공할 수 있음.

- **일관성** : 모든 읽기 작업에서 가장 최근에 업데이트된 데이터 또는 오류를 수신한다.

- **가용성** : 모든 데이터베이스 요청에서 가장 최근에 업데이트된 데이터가 포함되어 있는지 확인하지 않고도 성공 응답을 수신한다.
- **파티션 내성** : 분산 노드 간에 메시지가 삭제되거나 지연되더라도 시스템이 계속 작동한다.

예) 고객이 전자 상거래 웹 사이트에서 카트에 품목을 추가한 경우 다른 모든 고객은 해당 제품의 재고가 줄어드는 것을 확인할 수 있다. 고객이 카트에 해당 품목의 마지막 남은 하나를 추가한 경우 다른 모든 사용자에게는 해당 품목이 품절된 것으로 표시된다. 데이터베이스 설계자는 트랜잭션 내에서 작업이 실패할 경우 어떻게 할지 선택해야 한다. 데이터베이스는 다음 중 하나를 수행할 수 있다.

1. 트랜잭션을 취소하고 오류를 반환하면 가용성은 떨어지지만 일관성은 보장된다. *카트에 추가하기*가 성공할 때까지 고객이 카트에 품목을 추가할 수 없거나 다른 고객이 모든 제품에 대한 세부 정보를 로드할 수 없다.

2. 작업을 계속 진행하면 가용성이 제공되지만 불일치가 발생할 수 있다. 고객이 카트에 품목을 추가했지만 다른 고객에게는 적어도 일시적으로 잘못된 재고 수준이 표시된다.

### ACID DB, BASE DB 각각 언제 쓰는 게 좋은가?

- ACID DB : 데이터 무결성이 무엇보다 중요한 `은행`

- BASE DB : 구조화되지 않은 대용량 데이터의 온라인 분석 처리 `전자 상거래 웹 사이트`

### 데이터베이스가 ACID와 BASE 모두 충족할 수 있는가?

NO

- 이유 : ACID와 BASE 모두 파티션 내성을 제공함. 따라서 높은 일관성과 상시 가용성을 모두 제공할 순 없다.

- SQL DB는 ACID 모델을 기반으로 구조화됨.
- NoSQL DB는 BASE 아키텍처 사용. 반면, 일부 NoSQL DB는 특정 ACID 특성을 나타낼 순 있지만 ACID 적격 데이터베이스로는 작동하지 않음.

### 참고

[ACID 데이터베이스 대 BASE 데이터베이스 - 데이터베이스 간의 차이점 - AWS](https://aws.amazon.com/ko/compare/the-difference-between-acid-and-base-database/)
